# üöÅ FPV Scanner Native C - –ë–µ–∑ WiringPi

## üéØ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "unable to locate Package wiringpi"

WiringPi –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö Raspberry Pi OS. –°–æ–∑–¥–∞–Ω–∞ **–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è** C —Å–∫–∞–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã.

## ‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞

### **üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ WiringPi** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º —Å –ª—é–±—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏** Raspberry Pi OS
- ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫** - —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO** —á–µ—Ä–µ–∑ sysfs

### **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–í 10-50 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ** Python –≤–µ—Ä—Å–∏–∏
- **2-5% CPU** –≤–º–µ—Å—Ç–æ 15-25%
- **1-2 MB RAM** –≤–º–µ—Å—Ç–æ 50-100 MB
- **0.1 —Å–µ–∫** –Ω–∞ —Ü–∏–∫–ª –≤–º–µ—Å—Ç–æ 0.5 —Å–µ–∫

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### **1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è (–±–µ–∑ WiringPi):**
```bash
# –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
make

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
gcc -Wall -Wextra -O2 -std=c99 -o fpv_scanner_native src/fpv_scanner_native.c
```

### **2. –ó–∞–ø—É—Å–∫:**
```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞
sudo ./fpv_scanner_native

# –ò–ª–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é
python3 quick_start.py
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 3: "C —Å–∫–∞–Ω–µ—Ä –Ω–∞—Ç–∏–≤–Ω—ã–π"
```

### **3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo make install

# –ó–∞–ø—É—Å–∫ –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
sudo fpv_scanner_native
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–ü—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã:**
- **GPIO —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ `/sys/class/gpio/`
- **SPI –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ `/dev/spi0.0`
- **–ë–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```c
// –≠–∫—Å–ø–æ—Ä—Ç GPIO –ø–∏–Ω–æ–≤
gpio_export(CS_PIN);
gpio_export(RSSI_PIN);

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
gpio_set_direction(CS_PIN, "out");
gpio_set_direction(RSSI_PIN, "in");

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏–Ω–∞–º–∏
gpio_write(CS_PIN, 1);  // CS –≤—ã—Å–æ–∫–∏–π
int rssi = gpio_read(RSSI_PIN);  // –ß—Ç–µ–Ω–∏–µ RSSI
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Python | C —Å WiringPi | C –Ω–∞—Ç–∏–≤–Ω—ã–π |
|----------------|--------|--------------|------------|
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | –ú–Ω–æ–≥–æ | WiringPi | –ù–µ—Ç |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** | –°—Ä–µ–¥–Ω—è—è | –ü—Ä–æ–±–ª–µ–º—ã | –û—Ç–ª–∏—á–Ω–∞—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 0.5 —Å–µ–∫ | 0.1 —Å–µ–∫ | 0.1 —Å–µ–∫ |
| **CPU** | 15-25% | 2-5% | 2-5% |
| **RAM** | 50-100 MB | 1-2 MB | 1-2 MB |
| **–£—Å—Ç–∞–Ω–æ–≤–∫–∞** | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ–±–ª–µ–º—ã | –ü—Ä–æ—Å—Ç–∞—è |

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–ë–∞–∑–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
sudo ./fpv_scanner_native
```

### **–° –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**
```bash
sudo ./fpv_scanner_native > fpv_log.txt 2>&1 &
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ñ–æ–Ω–µ:**
```bash
nohup sudo ./fpv_scanner_native > fpv_output.log 2>&1 &
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ GPIO:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ GPIO
ls /sys/class/gpio/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∏–Ω–æ–≤
cat /sys/class/gpio/gpio8/value
cat /sys/class/gpio/gpio7/value
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ SPI:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SPI —É—Å—Ç—Ä–æ–π—Å—Ç–≤
ls /dev/spi*

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
ls -la /dev/spi*
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞:**
```bash
# –¢–µ—Å—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
make test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
file fpv_scanner_native
ldd fpv_scanner_native
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### **–ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ GPIO
sudo chmod 666 /sys/class/gpio/export
sudo chmod 666 /sys/class/gpio/unexport

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É gpio
sudo usermod -a -G gpio $USER
```

### **–ü—Ä–æ–±–ª–µ–º–∞: "SPI device not found"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SPI
ls /dev/spi*

# –í–∫–ª—é—á–µ–Ω–∏–µ SPI
sudo raspi-config
# –í—ã–±–µ—Ä–∏—Ç–µ: 3 Interface Options ‚Üí P4 SPI ‚Üí Yes
```

### **–ü—Ä–æ–±–ª–µ–º–∞: "GPIO export failed"**
```bash
# –û—á–∏—Å—Ç–∫–∞ GPIO
sudo sh -c 'echo 8 > /sys/class/gpio/unexport'
sudo sh -c 'echo 7 > /sys/class/gpio/unexport'

# –ü–æ–≤—Ç–æ—Ä–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
sudo ./fpv_scanner_native
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π C —Å–∫–∞–Ω–µ—Ä**:

- ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç WiringPi** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Raspberry Pi OS
- ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞** - —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ SPI
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** GPIO –∏ SPI
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ù–∞—á–Ω–∏—Ç–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å FPV –¥—Ä–æ–Ω–æ–≤ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏! üöÅüì°**
